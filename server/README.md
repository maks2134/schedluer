# Schedluer Backend

Backend сервис для работы с расписанием БГУИРа на Go 1.25 + MongoDB.

## Структура проекта

```
server/
├── cmd/
│   └── schedluer/          # Точка входа приложения
│       └── main.go
├── internal/                # Внутренние пакеты приложения
│   ├── config/             # Конфигурация приложения
│   ├── handler/            # HTTP handlers
│   ├── service/            # Бизнес-логика
│   ├── repository/         # Работа с базой данных
│   └── models/             # Модели данных
├── pkg/                     # Переиспользуемые пакеты
│   ├── bsuir/              # Клиент для API БГУИРа
│   └── converter/          # Конвертация расписания
├── go.mod
└── README.md
```

## Зависимости

- **Gin** - HTTP веб-фреймворк
- **MongoDB Driver** - Драйвер для работы с MongoDB
- **Logrus** - Структурированное логирование
- **Godotenv** - Загрузка переменных окружения из .env файла

## Установка и запуск

1. Установите зависимости:
```bash
go mod download
```

2. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

3. Настройте переменные окружения в `.env`:
```env
SERVER_PORT=8080
SERVER_HOST=localhost
MONGODB_URI=mongodb://localhost:27017
MONGODB_DATABASE=schedluer
BSUIR_API_BASE_URL=https://iis.bsuir.by/api/v1
LOG_LEVEL=info
```

4. Запустите приложение:
```bash
go run cmd/schedluer/main.go
```

Или соберите бинарник:
```bash
go build -o schedluer cmd/schedluer/main.go
./schedluer
```

## API БГУИРа

Проект включает клиент для работы со всеми эндпоинтами API БГУИРа:

- Получение расписания группы
- Получение расписания преподавателя
- Получение списка всех групп
- Получение списка всех преподавателей
- Получение списка всех факультетов
- Получение списка всех кафедр
- Получение списка всех специальностей
- Получение объявлений преподавателя/кафедры
- Получение списка всех аудиторий
- Получение даты последнего обновления расписания
- Получение текущей недели

Все методы реализованы в пакете `pkg/bsuir`.

## Модели данных

Все модели данных для работы с API БГУИРа определены в `internal/models/bsuir.go`:
- `ScheduleResponse` - ответ API расписания
- `Schedule` - занятие или экзамен
- `EmployeeDto` - информация о преподавателе
- `StudentGroupDto` - информация о группе
- И другие вспомогательные модели

